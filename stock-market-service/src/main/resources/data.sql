DROP TABLE IF EXISTS TBL_STOCK;


CREATE TABLE TBL_STOCK
(
    id            INT AUTO_INCREMENT PRIMARY KEY,
    user_id       INT          NOT NULL,
    active        INT          DEFAULT 0,
    name          VARCHAR(250) NOT NULL,
    symbol        VARCHAR(250) NOT NULL,
    date          VARCHAR(250) DEFAULT NULL,
    net_qty       INT          DEFAULT 0,
    avg_price     DECIMAL(10, 4),
    ltp           DECIMAL(10, 4),
    current_price DECIMAL(10, 4)
);
--
-- DROP INDEX IF EXISTS TBL_STOCK_INDEX;
CREATE INDEX TBL_STOCK_INDEX ON TBL_STOCK(ID DESC, USER_ID DESC, active, symbol);

INSERT INTO TBL_STOCK(USER_ID, ACTIVE, NAME, SYMBOL, DATE, NET_QTY, AVG_PRICE, LTP, CURRENT_PRICE)
VALUES (1, 0, 'HCL Technologies', 'HCLTECH', '2020-08-08', 36, 568, 800, 890);

INSERT INTO TBL_STOCK(USER_ID, ACTIVE, NAME, SYMBOL, DATE, NET_QTY, AVG_PRICE, LTP, CURRENT_PRICE)
VALUES (2, 0, 'TCS ', 'TCS', '2020-08-08', 360, 1568, 1850.89, 1900);

INSERT INTO TBL_STOCK(USER_ID, ACTIVE, NAME, SYMBOL, DATE, NET_QTY, AVG_PRICE, LTP, CURRENT_PRICE)
VALUES (3, 0, 'ITC LIMITED', 'ITC', '2020-08-08', 36, 568, 850.89, 900);

INSERT INTO TBL_STOCK(USER_ID, ACTIVE, NAME, SYMBOL, DATE, NET_QTY, AVG_PRICE, LTP, CURRENT_PRICE)
VALUES (4, 0, 'CIPLA', 'CIPLA', '2020-08-08', 100, 568, 450.89, 430);

INSERT INTO TBL_STOCK(USER_ID, ACTIVE, NAME, SYMBOL, DATE, NET_QTY, AVG_PRICE, LTP, CURRENT_PRICE)
VALUES (5, 0, 'APPLE-TEST', 'TEST - APPLE', '2020-08-08', 1, 100, 100, 130);

INSERT INTO TBL_STOCK(USER_ID, ACTIVE, NAME, SYMBOL, DATE, NET_QTY, AVG_PRICE, LTP, CURRENT_PRICE)
VALUES (6, 0, 'APPLE', 'APPLE', '2020-08-08', 1236, 2568, 2000, 1900);

INSERT INTO TBL_STOCK(USER_ID, ACTIVE, NAME, SYMBOL, DATE, NET_QTY, AVG_PRICE, LTP, CURRENT_PRICE)
VALUES (6, 1, 'ERROR', 'ERROR', '2020-08-08', 1236, 2568, 2000, 1900);